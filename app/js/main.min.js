const slider=document.querySelectorAll("#slider"),sliderItems=document.querySelector("#slides"),sliderDots=document.querySelector("#slider-dots");function slide(e,t,o=null){let s,n,l=0,d=0,i=t.getElementsByClassName("slider__slide"),c=i[0].offsetHeight,r=(t.length,i[0],i[i.length-1],0),u=!0;function a(e){(e=e||window.event).preventDefault(),s=t.offsetTop,"touchstart"===e.type?l=e.touches[0].clientY:(l=e.clientY,document.onmouseup=f,document.onmousemove=m)}function m(e){"touchmove"===(e=e||window.event).type?(d=l-e.touches[0].clientY,l=e.touches[0].clientY):(d=l-e.clientY,l=e.clientY),t.style.top=t.offsetTop-d+"px"}function f(e){n=t.offsetTop,n-s<-100&&r<i.length-1?p(1,"drag"):n-s>100&&r>0?p(-1,"drag"):t.style.top=s+"px",document.onmouseup=null,document.onmousemove=null}function p(e,o){t.classList.add("shifting"),u&&(1===e?(t.style.top=s-c+"px",r++):-1===e&&(t.style.top=s+c+"px",r--)),h(r),u=!1}function h(e){const t=document.querySelectorAll(".slider__dot");t.length>0&&t.forEach((t,o)=>{o===e?t.classList.add("active"):t.classList.remove("active")})}t.onmousedown=a,t.addEventListener("touchstart",a),t.addEventListener("touchend",f),t.addEventListener("touchmove",m),t.addEventListener("transitionend",()=>{t.classList.remove("shifting"),u=!0}),o&&(Array.from(i).map((e,t)=>{const o=document.createElement("div");return o.classList.add("slider__dot","slider_dot__"+t),o}).forEach(e=>{o.append(e)}),h(r))}slide(slider,sliderItems,sliderDots);