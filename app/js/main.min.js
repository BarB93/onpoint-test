document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#slides"),t=document.querySelector("#slider-dots"),o=document.querySelector("#slider2__range"),n=document.querySelector("#slider2__slides");!function(e,t=null){let o,n,s=0,i=0,d=e.getElementsByClassName("slider__slide"),l=d[0].offsetHeight,c=0,r=!0,a=-((d.length-1)*l+30);e.onmousedown=u,e.addEventListener("touchstart",u),e.addEventListener("touchend",m),e.addEventListener("touchmove",f),e.addEventListener("transitionend",()=>{e.classList.remove("shifting"),r=!0}),t&&(Array.from(d).map((e,t)=>{const o=document.createElement("div");return o.classList.add("slider__dot","slider_dot__"+t),o}).forEach(e=>{t.append(e)}),v(c));function u(t){(t=t||window.event).preventDefault(),o=e.offsetTop,"touchstart"===t.type?s=t.touches[0].clientY:(s=t.clientY,document.onmouseup=m,document.onmousemove=f)}function f(t){"touchmove"===(t=t||window.event).type?(i=s-t.touches[0].clientY,s=t.touches[0].clientY):(i=s-t.clientY,s=t.clientY);e.offsetTop;console.log("items.offsetTop",e.offsetTop),e.offsetTop<30&&e.offsetTop>a&&(e.style.top=e.offsetTop-i+"px")}function m(t){n=e.offsetTop,n-o<-100&&c<d.length-1?p(1):n-o>100&&c>0?p(-1):e.style.top=o+"px",document.onmouseup=null,document.onmousemove=null}function p(t){e.classList.add("shifting"),r&&(1===t?(e.style.top=o-l+"px",c++):-1===t&&(e.style.top=o+l+"px",c--)),v(c),r=!1}function v(e){const t=document.querySelectorAll(".slider__dot");t.length>0&&t.forEach((t,o)=>{o===e?t.classList.add("active"):t.classList.remove("active")})}}(e,t),function(e,t){let o=2,n=document.querySelector(".slider2__slide").offsetWidth,s=!0;function i(t){t.stopPropagation(),l();const o=e.value;c(o<30?0:o>=30&&o<=70?1:2)}function d(t){t.stopPropagation();const o=e.value;e.value=o<30?0:o>=30&&o<=70?50:100,l()}function l(){const t=e.value;e.style.background=`linear-gradient(to right, rgba(0, 0, 0, 0) 2%, #D1EAFF 2%, #D1EAFF ${t-2}%, #435063 ${t-2}%, #435063 98%, rgba(0, 0, 0, 0) 98%)`}function c(e,i=!1){t.classList.add("shifting"),console.log("currentSlide != slide",o!=e,"allowShift",s),(i||o!=e&&s)&&(t.style.right=e*n+"px",o=e,s=!1)}e.addEventListener("mousedown",e=>{e.stopPropagation()}),e.addEventListener("mousemove",i),e.addEventListener("mouseup",d),e.addEventListener("touchstart",e=>{e.stopPropagation()}),e.addEventListener("touchmove",i),e.addEventListener("touchend",d),t.addEventListener("transitionend",()=>{console.log("TTT"),t.classList.remove("shifting"),s=!0}),c(o,!0),l(),console.log("items.style.right",t.style.right)}(o,n),window.addEventListener("resize",()=>{location.href=location.href})});